<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
  </head>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    .search-form input {
      padding: 10px;
      width: 200px; /* Adjust the width as needed */
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-right: 10px;
      transition: border-color 0.3s ease; /* Add transition for smooth effect */
    }

    .search-form input:focus {
      outline: none;
      border-color: #555; /* Change border color on focus */
    }

    .search-form button {
      padding: 10px 20px;
      border-radius: 5px;
      border: none;
      background-color: #555;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s ease; /* Add transition for smooth hover effect */
    }

    .search-form button:hover {
      background-color: #d0d0d0; /* Change background color on hover */
      color: black; /* Change background color on hover */
    }

    /* Navigation Menu */
    .navigation-menu {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background-color: #333;
      color: #fff;
      position: sticky;
      top: 0;
      z-index: 999;
    }

    .navigation-menu ul li a {
      color: #fff;
      text-decoration: none;
      padding: 10px 15px; /* Increase padding for a larger clickable area */
      border: 2px solid transparent; /* Add transparent border */
      border-radius: 5px;
      margin-right: 10px;
      transition: all 0.3s ease; /* Add transition for smooth hover effect */
    }

    .navigation-menu ul li a:hover {
      background-color: #ddd;
      color: #333;
      border-color: #ddd; /* Change border color on hover */
    }

    .tiles {
      display: flex;
      flex-wrap: wrap;
      margin-top: 20px;
      border: none; /* Add a border */
      border-radius: 5px; /* Add border radius */
      padding: 10px; /* Add padding */
    }

    .tile {
      flex-basis: calc(
        33.33% - 20px
      ); /* Adjust the flex-basis for the tile size */
      margin: 10px;
      padding: 20px; /* Increase the padding for more space */
      border-radius: 5px;
      border: 1px solid gray;
      text-align: center;
      transition: all 0.3s ease;
      background-color: #ddd;
      border-color: #808080;
    }

    .tile:hover {
      transform: translateY(-5px);
        box-shadow: 0 0 50px rgba(1, 0, 0, 2.9); /* Add this line for the shadow effect */
    }

    .tile img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    /* Book Details Modal */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .modal-content {
      background-color: #d0d0d0;
      border-radius: 5px;
      padding: 20px;
      max-width: 500px;
      text-align: center;
      max-height: 500px; /* Limit the height of the modal content */
      overflow-y: auto; /* Add a vertical scrollbar when content exceeds max-height */
      text-align: left; /* Adjust text alignment */
      position: relative; /* Add relative positioning */
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    .modal-content img {
      max-width: 100%;
      height: auto;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .modal-content h3 {
      margin-bottom: 10px;
      font-size: 24px;
    }

    .modal-content p {
      margin-bottom: 20px;
      font-size: 16px;
    }

    .close-modal {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 34px;
      color: black;
      cursor: pointer;
    }

    .read-button {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 20px;
      padding: 10px 20px;
      border-radius: 5px;
      background-color: #555;
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }

    .read-button:hover {
      background-color: #222;
    }

    .description {
      overflow-wrap: break-word; /* Wrap long lines of text */
    }

    .hide {
      display: none;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #d0d0d0;
    }

    .sort-box {
      margin-top: 10px;
      text-align: right;
    }

    .sort-box label {
      margin-right: 5px;
    }

    .sort-box select {
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      transition: border-color 0.3s ease;
    }

    .tagline {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
      text-align: center;
    }

    .categories {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      overflow-x: auto; /* Add horizontal scroll when categories overflow */
    }

    .category {
      padding: 10px 15px;
      background-color: #f1f1f1;
      border: 1px solid #ccc; /* Add border */
      border-radius: 4px;
      margin-right: 10px;
      cursor: pointer;
    }

    .category.active {
      background-color: #555;
      color: #fff;
    }

    .category-arrow {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f1f1f1;
      border: none;
      border-radius: 4px;
      margin-right: 10px;
      cursor: pointer;
    }

    .category-arrow i {
      padding: 5px;
    }

    .category-arrow:hover {
      background-color: #ddd;
    }
    /* Footer Styles */
    .footer {
      background-color: #333;
      color: #fff;
      padding: 30px 0;
    }

    .footer-container {
      display: flex;
      justify-content: space-between;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .footer h3 {
      margin-bottom: 10px;
    }

    .footer ul {
      list-style: none;
      padding: 0;
    }

    .footer ul li {
      margin-bottom: 10px;
    }

    .footer ul li a {
      color: #fff;
      text-decoration: none;
    }

    .footer ul li a:hover {
      text-decoration: underline;
    }

    .social-icons {
      display: flex;
      padding: 0;
    }

    .social-icons li {
      margin-right: 10px;
    }

    .social-icons li a {
      color: #fff;
      font-size: 20px;
    }

    .social-icons li a:hover {
      color: #ddd;
    }

    .footer-bottom {
      background-color: #222;
      text-align: center;
      padding: 10px 0;
      margin-top: 20px;
    }
    .fas.fa-book-open{
      background-color: #333;
      margin-right: 18px;
      margin-left: 14px;
    }
    </style>
  <body>
    <div class="navigation-menu">
      <ul>
        <li>
            <i class="fas fa-book-open"></i>
            <a href="profile.html" class="menu-link"> Profile</a>
            <a href="settings.html" class="menu-link">Settings</a>
            <a href="about.html" class="menu-link">About</a>
            <a href="login.html" class="menu-link">Logout</a>
        </li>
      </ul>
      <div class="welcome-message"></div>
      <form class="search-form">
        <input type="text" placeholder="Search books..." id="searchInput" />
        <button type="submit">
          <i class="fas fa-search"></i>
        </button>
      </form>
    </div>

    <h1 class="tagline">Empowering Curious Minds</h1>
    <div class="sort-box">
    <div class="sort-box">
      <label for="sortSelect">Sort By:</label>
      <select id="sortSelect">
        <option value="alphabetical">A-Z</option>
        <option value="reverse">Z-A</option>
        <option value="author">Author</option>
      </select>
    </div>

    <div class="categories">
      <button class="category active" onclick="filterBooks('programming')">
        Programming
      </button>
      <button class="category" onclick="filterBooks('technology')">Technology</button>
      <button class="category" onclick="filterBooks('games')">Games</button>
      <button class="category" onclick="filterBooks('science')">Science</button>
      <button class="category" onclick="filterBooks('math')">Math</button>
      <button class="category" onclick="filterBooks('biography')">
        Biography
      </button>
      <button class="category" onclick="filterBooks('history')">History</button>
      <!-- Add more categories as needed -->
    </div>

    <div class="tiles"></div>
    <div id="bookModal" class="modal">
      <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <img id="modalImage" src="" alt="Book Cover" />
        <h3 id="modalTitle"></h3>
        <p id="modalAuthor"></p>
        <div id="modalDescription" class="description"></div>
        <a id="readNowButton" class="read-button" href="#" target="_blank"
          >Read Now</a
        >
      </div>
    </div>
    <div class="tiles"></div>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-column">
          <h3>Explore</h3>
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Categories</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Support</h3>
          <ul>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Follow Us</h3>
          <ul class="social-icons">
            <li><a href="#"><i class="fab fa-facebook"></i></a></li>
            <li><a href="#"><i class="fab fa-twitter"></i></a></li>
            <li><a href="#"><i class="fab fa-instagram"></i></a></li>
            <li><a href="https://github.com/Alexis12119/Alexis12119.github.io" target="_blank"><i class="fab fa-github"></i></a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 E-Library. All rights reserved.</p>
      </div>
    </footer>
    <script>
      function openModal(image, title, author, description, readLink) {
        document.getElementById('modalImage').src = image
        document.getElementById('modalTitle').textContent = title
        document.getElementById('modalAuthor').textContent = author

        const modalDescription = document.getElementById('modalDescription')
        const readMoreLink = document.createElement('span')

        if (description.length > 150) {
          const shortDescription = description.substring(0, 150) + '...'
          modalDescription.textContent = shortDescription

          readMoreLink.addEventListener('click', function () {
            if (readMoreLink.classList.contains('hide')) {
              modalDescription.textContent = description
              readMoreLink.classList.remove('hide')
            } else {
              modalDescription.textContent = shortDescription
              readMoreLink.classList.add('hide')
            }
          })
        } else {
          modalDescription.textContent = description
        }

        document.getElementById('bookModal').style.opacity = '1'
        document.getElementById('bookModal').style.visibility = 'visible'
        const readNowButton = document.getElementById('readNowButton')
        readNowButton.href = readLink // Set the href of the "Read Now" button to the readLink
      }
      function closeModal() {
        document.getElementById('bookModal').style.opacity = '0'
        document.getElementById('bookModal').style.visibility = 'hidden'
      }
      function searchBooks(event) {
        event.preventDefault()
        const searchTerm = document
          .getElementById('searchInput')
          .value.toLowerCase()
        const tiles = document.getElementsByClassName('tile')

        for (let i = 0; i < tiles.length; i++) {
          const title = tiles[i].querySelector('h3').textContent.toLowerCase()
          if (title.includes(searchTerm)) {
            tiles[i].style.display = 'block'
          } else {
            tiles[i].style.display = 'none'
          }
        }
      }

      document
        .querySelector('.search-form')
        .addEventListener('submit', searchBooks)

      var currentSortOption = 'alphabetical'
      // Define a function to handle sorting
      function sortTiles() {
        const tilesContainer = document.querySelector('.tiles')
        const tiles = Array.from(tilesContainer.getElementsByClassName('tile'))

        // Sort the tiles based on the current sort option
        switch (currentSortOption) {
          case 'alphabetical':
            tiles.sort((a, b) =>
              a
                .querySelector('h3')
                .textContent.localeCompare(b.querySelector('h3').textContent)
            )
            break
          case 'reverse':
            tiles.sort((a, b) =>
              b
                .querySelector('h3')
                .textContent.localeCompare(a.querySelector('h3').textContent)
            )
            break
          case 'author':
            tiles.sort((a, b) =>
              a
                .getAttribute('data-author')
                .localeCompare(b.getAttribute('data-author'))
            )
            break
        }

        // Append the sorted tiles to the tiles container
        tiles.forEach((tile) => tilesContainer.appendChild(tile))
      }

      // Update the current sort option and call the sort function when the select value changes
      document
        .getElementById('sortSelect')
        .addEventListener('change', function (event) {
          currentSortOption = event.target.value
          sortTiles()
        })

      // Call the sort function initially to display the tiles in the default order
      sortTiles()
      async function fetchBooks(category) {
        const response = await fetch(
          `https://www.googleapis.com/books/v1/volumes?q=${category}`
        )
        const data = await response.json()

        // Process the fetched data and display it on your webpage
        const books = data.items
        const tilesContainer = document.querySelector('.tiles')

        // Clear existing tiles
        tilesContainer.innerHTML = ''

        books.forEach((book) => {
          const title = book.volumeInfo.title
          const author = book.volumeInfo.authors
            ? book.volumeInfo.authors[0]
            : 'Unknown Author'
          const description = book.volumeInfo.description
            ? book.volumeInfo.description
            : 'No description available'
          const coverImage = book.volumeInfo.imageLinks
            ? book.volumeInfo.imageLinks.thumbnail
            : 'assets/img/default_book.jpg' 
          const readLink = book.volumeInfo.infoLink // Add the link to the book

          const tile = document.createElement('div')
          tile.classList.add('tile')
          tile.setAttribute('data-author', author)
          tile.setAttribute('data-category', category) // Add data-category attribute
          tile.innerHTML = `
      <img src="${coverImage}" alt="${title}" />
      <h3>${title}</h3>
    `

          tile.addEventListener('click', function () {
            openModal(
              coverImage,
              title,
              `Author: ${author}`,
              description,
              readLink
            ) // Pass the readLink to the openModal function
          })

          tilesContainer.appendChild(tile)
        })
      }
      // Filter the books based on the selected category
      function filterBooks(category) {
        // Update the active category button
        const buttons = document.getElementsByClassName('category')
        for (let j = 0; j < buttons.length; j++) {
          const button = buttons[j]
          if (button.getAttribute('onclick').includes(category)) {
            button.classList.add('active')
          } else {
            button.classList.remove('active')
          }
        }

        fetchBooks(category) // Fetch books for the selected category
      }

      // Call the fetchBooks function initially to populate the tiles with the default category
      fetchBooks('programming')
      function scrollCategories(direction) {
        const categoriesContainer = document.querySelector('.categories');
        const scrollAmount = 200; // Adjust the scroll amount as needed
        if (direction === 'left') {
          categoriesContainer.scrollLeft -= scrollAmount;
        } else if (direction === 'right') {
          categoriesContainer.scrollLeft += scrollAmount;
        }
      }
    </script>
  </body>
</html>
